(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{67:function(){},2061:function(){},8418:function(e,t,i){Promise.resolve().then(i.bind(i,4906))},4906:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return j}});var a=i(7437),n=i(2265),r=i(1812),o=i.n(r),s=i(7504);function l(e){return!!e&&0!==e.length&&!(Object.keys(e[0]).length<2)}function d(e){let t;let i=Object.keys(e[0]),a=i[0],n=i[1],r=e.map(e=>{let t={x:parseFloat(e[a]),y:parseFloat(e[n])};return i.forEach(i=>{i!==a&&i!==n&&(t[i]=e[i])}),t}).filter(e=>!isNaN(e.x)&&!isNaN(e.y)),o=(e,t)=>{if(0===e)return 0;let i=Math.pow(10,Math.floor(Math.log10(Math.abs(e))));return t?Math.floor(e/i)*i:Math.ceil(e/i)*i},s=Math.min(...r.map(e=>e.x)),l=Math.max(...r.map(e=>e.x)),d=Math.min(...r.map(e=>e.y)),x=Math.max(...r.map(e=>e.y)),c=s<0||d<0;return t=c?{xMin:o(s,!0),xMax:o(l,!1),yMin:o(d,!0),yMax:o(x,!1)}:{xMin:0,xMax:o(l,!1),yMin:0,yMax:o(x,!1)},r.length>0&&(r[0].quadrantMode=c?"all":"first",r[0].domains=t),r}function x(e){let{onDataParsed:t}=e,[i,r]=(0,n.useState)(!1),x=(e,i)=>{o().parse(e,{header:!0,complete:e=>{if(!l(e.data)){alert("Invalid CSV format. Please ensure your file has at least two columns of numeric data."),r(!1);return}let a=d(e.data);if(0===a.length){alert("No valid data points found in the file. Please ensure your file contains numeric data."),r(!1);return}t(a,i),r(!1)},error:()=>{alert("Error parsing CSV file. Please check the file format."),r(!1)}})},c=(e,i)=>{let a=new FileReader;a.onload=e=>{try{var a;let n=null===(a=e.target)||void 0===a?void 0:a.result;if(!n)throw Error("No data read from file");let o=s.ij(n,{type:"binary"}),x=o.SheetNames[0],c=o.Sheets[x],h=s.P6.sheet_to_json(c);if(!h||0===h.length){alert("No data found in the Excel file."),r(!1);return}if(!l(h)){alert("Invalid Excel format. Please ensure your file has at least two columns of numeric data."),r(!1);return}let u=d(h);if(0===u.length){alert("No valid data points found in the file. Please ensure your file contains numeric data."),r(!1);return}t(u,i),r(!1)}catch(e){console.error("Error in fallback Excel parsing:",e),alert("Could not parse the Excel file. Please ensure the file is a valid Excel file with numeric data."),r(!1)}},a.onerror=()=>{alert("Error reading Excel file."),r(!1)},a.readAsBinaryString(e)},h=(e,i)=>{try{let a=new FileReader;a.onload=a=>{var n;let o=null===(n=a.target)||void 0===n?void 0:n.result;if(!o){alert("Error reading Excel file."),r(!1);return}try{let e=s.ij(o,{type:"array"}),a=e.SheetNames[0],n=e.Sheets[a],x=s.P6.sheet_to_json(n,{header:"A"});if(x.length<=1){alert("No data found in the Excel file. Please ensure your file contains data."),r(!1);return}let c=x[0],h=x.slice(1).map(e=>{let t={};return Object.keys(e).forEach(i=>{t[c[i]]=e[i]}),t});if(!l(h)){alert("Invalid Excel format. Please ensure your file has at least two columns of numeric data."),r(!1);return}let u=d(h);if(0===u.length){alert("No valid data points found in the file. Please ensure your file contains numeric data."),r(!1);return}t(u,i),r(!1)}catch(t){console.error("Error parsing Excel file with primary method:",t),c(e,i)}},a.onerror=()=>{alert("Error reading Excel file."),r(!1)},a.readAsArrayBuffer(e)}catch(t){console.error("Exception in primary Excel processing:",t),c(e,i)}};return(0,a.jsx)("div",{className:"relative overflow-hidden p-0.5 rounded-lg shadow-sm",children:(0,a.jsxs)("label",{className:"flex items-center justify-center gap-2 px-4 py-2 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium cursor-pointer transition-colors",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),i?"Uploading...":"Upload CSV/Excel",(0,a.jsx)("input",{type:"file",className:"hidden",accept:".csv,.xlsx,.xls",onChange:e=>{var t,i;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;console.log("Processing file: ".concat(a.name,", type: ").concat(a.type)),r(!0);let n=null===(i=a.name.split(".").pop())||void 0===i?void 0:i.toLowerCase(),o=a.name.split(".")[0];try{"csv"===n?(console.log("Processing as CSV file"),x(a,o)):"xlsx"===n||"xls"===n?(console.log("Processing as Excel file"),h(a,o)):(alert("Unsupported file format. Please upload a CSV, XLSX, or XLS file."),r(!1))}catch(e){console.error("Error processing file:",e),alert("Error processing file. Please try again with a valid file."),r(!1)}},disabled:i})]})})}var c=i(5253),h=i(2824),u=i(6573),m=i(4235),g=i(39),v=i(6812),f=i(7586),p=i(7978);function y(e){let{data:t,filename:i,position:r,size:o,rotation:s,zIndex:l,onPositionChange:d,onSizeChange:x,onRotationChange:y,color:M,onColorChange:b,onRemove:j,isSettingsOpen:w,onToggleSettings:N,domains:k,axisIntervals:S,quadrantMode:C="first",onDataPanelToggle:z}=e,[L,E]=(0,n.useState)(s),[I,F]=(0,n.useState)("0"),[D,P]=(0,n.useState)(""),[G,A]=(0,n.useState)(""),[R,W]=(0,n.useState)(""),[q,V]=(0,n.useState)(""),[B,O]=(0,n.useState)({xMin:null==k?void 0:k.xMin,xMax:null==k?void 0:k.xMax,yMin:null==k?void 0:k.yMin,yMax:null==k?void 0:k.yMax}),[H,X]=(0,n.useState)(M),[_,U]=(0,n.useState)(!1),[T,Y]=(0,n.useState)({width:0,height:0}),[K,Q]=(0,n.useState)({xMin:null==k?void 0:k.xMin,xMax:null==k?void 0:k.xMax,yMin:null==k?void 0:k.yMin,yMax:null==k?void 0:k.yMax}),J=n.useRef(null),Z=(0,n.useMemo)(()=>{if(!t||t.length<=100)return t;if(t.length>100){let e,i,a,n,r,o=1/0,s=-1/0,l=1/0,d=-1/0;t.forEach(t=>{t.x<o&&(o=t.x,e=t),t.x>s&&(s=t.x,i=t),t.y<l&&(l=t.y,a=t),t.y>d&&(d=t.y,n=t)});let x=new Set;e&&x.add(e),i&&x.add(i),a&&x.add(a),n&&x.add(n),r=t.length>500?Math.ceil(t.length/100):t.length>200?Math.ceil(t.length/150):Math.ceil(t.length/200);let c=[];for(let e=0;e<t.length;e+=r)c.push(t[e]);let h=[...Array.from(x),...c];return Array.from(new Map(h.map(e=>[JSON.stringify([e.x,e.y]),e])).values())}return t},[t]),$=(0,n.useMemo)(()=>{if(!t||0===t.length)return K;let e=t.map(e=>e.x),i=t.map(e=>e.y),a={x:Math.min(...e),y:Math.min(...i)},n={x:Math.max(...e),y:Math.max(...i)},r={xMin:void 0!==B.xMin?B.xMin:"all"===C?Math.min(a.x,0):0,xMax:void 0!==B.xMax?B.xMax:n.x,yMin:void 0!==B.yMin?B.yMin:"all"===C?Math.min(a.y,0):0,yMax:void 0!==B.yMax?B.yMax:n.y},o=(r.xMax-r.xMin)*.05,s=(r.yMax-r.yMin)*.05;return{xMin:r.xMin-o,xMax:r.xMax+o,yMin:r.yMin-s,yMax:r.yMax+s}},[t,B,C]);(0,n.useEffect)(()=>{Q($)},[$]),(0,n.useEffect)(()=>{if(!_&&t&&t.length>0){let e=Math.min(800,.7*window.innerWidth),t=Math.min(600,.7*window.innerHeight);(o.width<400||o.height<300||o.width>e||o.height>t)&&x(Math.min(Math.max(o.width,400),e),Math.min(Math.max(o.height,300),t))}},[]),(0,n.useEffect)(()=>{E(s),F(s.toString())},[s]),(0,n.useEffect)(()=>{X(M)},[M]),(0,n.useEffect)(()=>{k&&(O({xMin:k.xMin,xMax:k.xMax,yMin:k.yMin,yMax:k.yMax}),void 0!==k.xMin&&P(k.xMin.toString()),void 0!==k.xMax&&A(k.xMax.toString()),void 0!==k.yMin&&W(k.yMin.toString()),void 0!==k.yMax&&V(k.yMax.toString()))},[k]);let ee={zIndex:l,position:"absolute",left:r.x,top:r.y,width:_?300:o.width,height:_?40:o.height,transform:"rotate(".concat(L,"deg)"),transformOrigin:"center center",opacity:1,transition:_?"width 0.2s ease, height 0.2s ease":"transform 0.3s ease-in-out"},et=()=>{if(!J.current)return;let e=document.querySelectorAll(".graph-container"),t=l;e.forEach(e=>{let i=parseInt(getComputedStyle(e).zIndex);i>t&&(t=i)}),t>l&&(J.current.style.zIndex=(t+1).toString())};(0,n.useEffect)(()=>{let e=J.current;if(!e)return;let t=e=>{e.target.closest("button")||e.target.closest("input")||et()};return e.addEventListener("mousedown",t),()=>{e.removeEventListener("mousedown",t)}},[l]);let ei=(0,n.useCallback)(e=>{let{cx:i,cy:n,fill:r}=e,o=(null==t?void 0:t.length)>200?4:6,s=(null==t?void 0:t.length)<=200;return(0,a.jsx)("circle",{cx:i,cy:n,r:o,fill:r,strokeWidth:(null==t?void 0:t.length)>200?1:2,stroke:"white",filter:s?"url(#glow)":void 0})},[null==t?void 0:t.length]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{ref:J,style:ee,className:"graph-container",children:[(0,a.jsxs)("div",{className:"bg-transparent border border-gray-200 rounded-lg shadow-lg h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"handle bg-blue-50 p-2 border-b border-gray-200 flex justify-between items-center cursor-move",onMouseDown:e=>ea(e,"move"),onDoubleClick:()=>{_&&U(!1)},children:[(0,a.jsxs)("div",{className:"flex-1 h-full flex items-center mr-2",children:[(0,a.jsx)("div",{className:"mr-2 text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsxs)("h3",{className:"font-medium text-gray-800 truncate text-sm",children:[i||"Graph"," (",L.toFixed(1),"\xb0)"]})]}),(0,a.jsxs)("div",{className:"flex space-x-1 z-10",children:[!_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative w-8 h-8 cursor-grab active:cursor-grabbing rounded hover:bg-blue-100 flex items-center justify-center",onMouseDown:e=>{var t;e.stopPropagation();let i=null===(t=e.currentTarget.closest(".graph-container"))||void 0===t?void 0:t.getBoundingClientRect();if(!i)return;let a=i.left+i.width/2,n=i.top+i.height/2,r=e.clientX-a,o=180/Math.PI*Math.atan2(e.clientY-n,r);function s(e){let t=e.clientX-a,i=180/Math.PI*Math.atan2(e.clientY-n,t)-o,r=(L+(i/=2)+360)%360;E(r),y(r)}document.addEventListener("mousemove",s),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e)})},title:"Drag to rotate",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-500 hover:text-blue-600 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),(0,a.jsxs)("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded shadow-lg opacity-0 group-hover:opacity-100 pointer-events-none",children:[L.toFixed(1),"\xb0"]})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),z()},className:"p-1 text-indigo-500 hover:text-indigo-700 rounded bg-white",title:"Edit Data",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 7v10c0 2 1 3 3 3h10c2 0 3-1 3-3V7c0-2-1-3-3-3H7c-2 0-3 1-3 3zm0 5h16"})})})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),U(!_)},className:"p-1 text-gray-500 hover:text-gray-700 rounded bg-white",title:_?"Restore":"Minimize",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),N()},className:"p-1 text-gray-500 hover:text-gray-700 rounded ".concat(w?"bg-blue-100":"bg-white"),title:"Settings",children:(0,a.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),j()},className:"p-1 text-red-500 hover:text-red-700 rounded bg-white",title:"Close graph",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),!_&&(0,a.jsx)("div",{className:"flex-1 p-2 relative",children:(0,a.jsx)(c.h,{width:"100%",height:"100%",onResize:(e,t)=>{e&&t&&Y({width:e,height:t})},children:(0,a.jsxs)(h.G,{margin:{top:20,right:20,bottom:20,left:20},children:[!t||t.length<=300?(0,a.jsx)(u.q,{stroke:"rgba(150,150,150,0.15)",horizontal:!0,vertical:!0,strokeDasharray:"3 3"}):(0,a.jsx)(u.q,{stroke:"rgba(150,150,150,0.15)",horizontal:!0,vertical:!0,strokeDasharray:"3 3",horizontalPoints:[.25,.5,.75].map(e=>{var t,i;let a=null!==(t=K.yMin)&&void 0!==t?t:0;return a+((null!==(i=K.yMax)&&void 0!==i?i:100)-a)*e}),verticalPoints:[.25,.5,.75].map(e=>{var t,i;let a=null!==(t=K.xMin)&&void 0!==t?t:0;return a+((null!==(i=K.xMax)&&void 0!==i?i:100)-a)*e})}),(0,a.jsx)(m.K,{type:"number",dataKey:"x",domain:"all"===C?[void 0!==K.xMin?K.xMin:e=>Math.min(e,0),void 0!==K.xMax?K.xMax:e=>Math.max(e,0)]:[void 0!==K.xMin?K.xMin:0,void 0!==K.xMax?K.xMax:"auto"],allowDataOverflow:!0,includeHidden:!0,allowDecimals:!0,tickCount:(null==S?void 0:S.x)||5,padding:{left:0,right:0},axisLine:{stroke:"#666",strokeWidth:1},scale:"linear",interval:"preserveStartEnd",tick:{fontSize:12},tickFormatter:e=>e.toString()}),(0,a.jsx)(g.B,{type:"number",dataKey:"y",domain:"all"===C?[void 0!==K.yMin?K.yMin:e=>Math.min(e,0),void 0!==K.yMax?K.yMax:e=>Math.max(e,0)]:[void 0!==K.yMin?K.yMin:0,void 0!==K.yMax?K.yMax:"auto"],allowDataOverflow:!0,includeHidden:!0,allowDecimals:!0,tickCount:(null==S?void 0:S.y)||5,padding:{top:0,bottom:0},axisLine:{stroke:"#666",strokeWidth:1},scale:"linear",interval:"preserveStartEnd",tick:{fontSize:12},tickFormatter:e=>e.toString()}),(0,a.jsx)(v.u,{contentStyle:{backgroundColor:"white",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"}}),(0,a.jsx)(f.b,{name:i||"Graph",data:Z,fill:H,opacity:.8,shape:ei,legendType:"circle",z:1}),(0,a.jsx)("defs",{children:(0,a.jsxs)("filter",{id:"glow",x:"-30%",y:"-30%",width:"160%",height:"160%",children:[(0,a.jsx)("feGaussianBlur",{stdDeviation:"2",result:"blur"}),(0,a.jsx)("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),"all"===C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.d,{x:0,stroke:"rgba(0,0,0,0.5)",strokeWidth:1,ifOverflow:"extendDomain"}),(0,a.jsx)(p.d,{y:0,stroke:"rgba(0,0,0,0.5)",strokeWidth:1,ifOverflow:"extendDomain"})]})]})})})]}),!_&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-4 cursor-ns-resize resize-handle",onMouseDown:e=>ea(e,"top")}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 cursor-nesw-resize resize-handle",onMouseDown:e=>ea(e,"topRight")}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-full h-4 cursor-ns-resize resize-handle",onMouseDown:e=>ea(e,"bottom")}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 cursor-ew-resize resize-handle",onMouseDown:e=>ea(e,"left")}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-2 cursor-nwse-resize resize-handle",onMouseDown:e=>ea(e,"bottomRight")}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-2 h-2 cursor-nesw-resize resize-handle",onMouseDown:e=>ea(e,"bottomLeft")}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 cursor-nwse-resize resize-handle",onMouseDown:e=>ea(e,"topLeft")})]})]})});function ea(e,i){if(e.preventDefault(),"BUTTON"===e.target.tagName||"INPUT"===e.target.tagName||"SVG"===e.target.tagName||"path"===e.target.tagName)return;let a=document.querySelectorAll(".graph-container"),n=l;if(a.forEach(e=>{let t=parseInt(getComputedStyle(e).zIndex);t>n&&(n=t)}),n>l){let t=e.currentTarget.closest(".graph-container");t&&(t.style.zIndex=(n+1).toString())}let s=e.clientX,c=e.clientY,h=r.x,u=r.y,m=o.width,g=o.height;function v(e){let a=e.clientX-s,n=e.clientY-c;if("move"===i){d(h+a,u+n);return}let l=m,v=g,f=h,p=u;if(i.includes("right")&&(l=Math.max(250,m+a),f=h),i.includes("bottom")&&(v=Math.max(200,g+n),p=u),i.includes("left")&&(l=Math.max(250,m-a),f=h+a),i.includes("top")&&(v=Math.max(200,g-n),p=u+n),"topRight"===i&&(l=Math.max(250,m+a),v=Math.max(200,g-n),p=u+n),"bottomRight"===i&&(l=Math.max(250,m+a),v=Math.max(200,g+n)),"bottomLeft"===i&&(l=Math.max(250,m-a),f=h+a,v=Math.max(200,g+n)),"topLeft"===i&&(l=Math.max(250,m-a),f=h+a,v=Math.max(200,g-n),p=u+n),l=Math.min(l,800),v=Math.min(v,600),i.includes("left")&&800===l&&(f=h+m-800),i.includes("top")&&600===v&&(p=u+g-600),(f!==r.x||p!==r.y)&&d(f,p),l!==o.width||v!==o.height){x(l,v);let e=t.map(e=>e.x),i=t.map(e=>e.y),a={x:Math.min(...e),y:Math.min(...i)},n={x:Math.max(...e),y:Math.max(...i)},r={xMin:void 0!==B.xMin?B.xMin:"all"===C?Math.min(a.x,0):0,xMax:void 0!==B.xMax?B.xMax:n.x,yMin:void 0!==B.yMin?B.yMin:"all"===C?Math.min(a.y,0):0,yMax:void 0!==B.yMax?B.yMax:n.y},o=(r.xMax-r.xMin)*.05,s=(r.yMax-r.yMin)*.05;Q({xMin:r.xMin-o,xMax:r.xMax+o,yMin:r.yMin-s,yMax:r.yMax+s})}}document.addEventListener("mousemove",v),document.addEventListener("mouseup",function e(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",e)})}}function M(e){var t,i,r,o,s,l,d,x,c,h,u;let{graph:m,onClose:g,onSettingsUpdate:v}=e,f=(0,n.useMemo)(()=>{if(!m.data||0===m.data.length)return{xMin:0,xMax:0,yMin:0,yMax:0};let e=m.data;if(m.data.length>500){let t,i,a,n;let r=Math.ceil(m.data.length/500);e=[];for(let t=0;t<m.data.length;t+=r)e.push(m.data[t]);let o=1/0,s=-1/0,l=1/0,d=-1/0;m.data.forEach(e=>{e.x<o&&(o=e.x,t=e),e.x>s&&(s=e.x,i=e),e.y<l&&(l=e.y,a=e),e.y>d&&(d=e.y,n=e)}),t&&!e.includes(t)&&e.push(t),i&&!e.includes(i)&&e.push(i),a&&!e.includes(a)&&e.push(a),n&&!e.includes(n)&&e.push(n)}let t=e.map(e=>e.x),i=e.map(e=>e.y);return{xMin:Math.min(...t),xMax:Math.max(...t),yMin:Math.min(...i),yMax:Math.max(...i)}},[m.data]),[p,y]=(0,n.useState)({width:m.size.width,height:m.size.height,rotation:m.rotation,color:m.color,xMin:(null===(t=m.domains)||void 0===t?void 0:t.xMin)!==void 0?m.domains.xMin.toString():"",xMax:(null===(i=m.domains)||void 0===i?void 0:i.xMax)!==void 0?m.domains.xMax.toString():"",yMin:(null===(r=m.domains)||void 0===r?void 0:r.yMin)!==void 0?m.domains.yMin.toString():"",yMax:(null===(o=m.domains)||void 0===o?void 0:o.yMax)!==void 0?m.domains.yMax.toString():"",xIntervals:(null===(l=m.axisIntervals)||void 0===l?void 0:null===(s=l.x)||void 0===s?void 0:s.toString())||"5",yIntervals:(null===(x=m.axisIntervals)||void 0===x?void 0:null===(d=x.y)||void 0===d?void 0:d.toString())||"5",quadrantMode:m.quadrantMode||"first",showGrid:(null===(c=m.settings)||void 0===c?void 0:c.showGrid)===void 0||m.settings.showGrid,dotSize:(null===(h=m.settings)||void 0===h?void 0:h.dotSize)!==void 0?m.settings.dotSize:5,showLabels:(null===(u=m.settings)||void 0===u?void 0:u.showLabels)===void 0||m.settings.showLabels});(0,n.useEffect)(()=>{var e,t,i,a,n,r,o,s,l,d,x;y({width:m.size.width,height:m.size.height,rotation:m.rotation,color:m.color,xMin:(null===(e=m.domains)||void 0===e?void 0:e.xMin)!==void 0?m.domains.xMin.toString():"",xMax:(null===(t=m.domains)||void 0===t?void 0:t.xMax)!==void 0?m.domains.xMax.toString():"",yMin:(null===(i=m.domains)||void 0===i?void 0:i.yMin)!==void 0?m.domains.yMin.toString():"",yMax:(null===(a=m.domains)||void 0===a?void 0:a.yMax)!==void 0?m.domains.yMax.toString():"",xIntervals:(null===(r=m.axisIntervals)||void 0===r?void 0:null===(n=r.x)||void 0===n?void 0:n.toString())||"5",yIntervals:(null===(s=m.axisIntervals)||void 0===s?void 0:null===(o=s.y)||void 0===o?void 0:o.toString())||"5",quadrantMode:m.quadrantMode||"first",showGrid:(null===(l=m.settings)||void 0===l?void 0:l.showGrid)===void 0||m.settings.showGrid,dotSize:(null===(d=m.settings)||void 0===d?void 0:d.dotSize)!==void 0?m.settings.dotSize:5,showLabels:(null===(x=m.settings)||void 0===x?void 0:x.showLabels)===void 0||m.settings.showLabels})},[m]);let M=e=>{let{name:t,value:i,type:a,checked:n}=e.target;y(e=>({...e,[t]:"checkbox"===a?n:i}))};return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-indigo-50 to-indigo-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-900",children:m.title||"Graph Settings"}),(0,a.jsx)("button",{onClick:g,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Graph Size"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"width",className:"block text-xs text-gray-500 mb-1",children:"Width"}),(0,a.jsx)("input",{type:"number",id:"width",name:"width",value:p.width,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",min:"250"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"height",className:"block text-xs text-gray-500 mb-1",children:"Height"}),(0,a.jsx)("input",{type:"number",id:"height",name:"height",value:p.height,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",min:"200"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Appearance"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"color",className:"block text-xs text-gray-500 mb-1",children:"Graph Color"}),(0,a.jsx)("input",{type:"color",id:"color",name:"color",value:p.color,onChange:e=>{y(t=>({...t,color:e.target.value}))},className:"w-full h-8 p-0 border border-gray-300 rounded"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dotSize",className:"block text-xs text-gray-500 mb-1",children:"Dot Size"}),(0,a.jsx)("input",{type:"range",id:"dotSize",name:"dotSize",value:p.dotSize,onChange:M,className:"w-full",min:"2",max:"10"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"Small"}),(0,a.jsx)("span",{children:"Large"})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"showGrid",name:"showGrid",checked:p.showGrid,onChange:M,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"showGrid",className:"ml-2 block text-sm text-gray-700",children:"Show Grid Lines"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"showLabels",name:"showLabels",checked:p.showLabels,onChange:M,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"showLabels",className:"ml-2 block text-sm text-gray-700",children:"Show Axis Labels"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Quadrant Mode"}),(0,a.jsxs)("select",{id:"quadrantMode",name:"quadrantMode",value:p.quadrantMode,onChange:e=>{let{name:t,value:i}=e.target;y(e=>({...e,[t]:i}))},className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",children:[(0,a.jsx)("option",{value:"first",children:"First Quadrant Only"}),(0,a.jsx)("option",{value:"all",children:"All Four Quadrants"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-indigo-50 rounded border border-indigo-200 text-sm",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Data Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["X: [",f.xMin.toFixed(2),", ",f.xMax.toFixed(2),"]"]})}),(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:["Y: [",f.yMin.toFixed(2),", ",f.yMax.toFixed(2),"]"]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"X-Axis Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"xMin",className:"block text-xs text-gray-500 mb-1",children:"Min"}),(0,a.jsx)("input",{type:"number",id:"xMin",name:"xMin",value:p.xMin,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",placeholder:"Auto"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"xMax",className:"block text-xs text-gray-500 mb-1",children:"Max"}),(0,a.jsx)("input",{type:"number",id:"xMax",name:"xMax",value:p.xMax,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",placeholder:"Auto"})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{htmlFor:"xIntervals",className:"block text-xs text-gray-500 mb-1",children:"Intervals"}),(0,a.jsx)("input",{type:"number",id:"xIntervals",name:"xIntervals",value:p.xIntervals,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",min:"2",max:"20"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Y-Axis Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"yMin",className:"block text-xs text-gray-500 mb-1",children:"Min"}),(0,a.jsx)("input",{type:"number",id:"yMin",name:"yMin",value:p.yMin,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",placeholder:"Auto"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"yMax",className:"block text-xs text-gray-500 mb-1",children:"Max"}),(0,a.jsx)("input",{type:"number",id:"yMax",name:"yMax",value:p.yMax,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",placeholder:"Auto"})]})]}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("label",{htmlFor:"yIntervals",className:"block text-xs text-gray-500 mb-1",children:"Intervals"}),(0,a.jsx)("input",{type:"number",id:"yIntervals",name:"yIntervals",value:p.yIntervals,onChange:M,className:"w-full p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",min:"2",max:"20"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2 text-indigo-900",children:"Rotation (degrees)"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{type:"number",id:"rotation",name:"rotation",value:p.rotation,onChange:M,className:"flex-1 p-2 border border-gray-300 rounded text-sm focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",min:"0",max:"360"}),(0,a.jsx)("button",{onClick:()=>{y(e=>({...e,rotation:0}))},className:"px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded text-sm",children:"Reset"})]})]})]}),(0,a.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,a.jsx)("button",{onClick:()=>{let e={};""!==p.xMin&&(e.xMin=parseFloat(p.xMin)),""!==p.xMax&&(e.xMax=parseFloat(p.xMax)),""!==p.yMin&&(e.yMin=parseFloat(p.yMin)),""!==p.yMax&&(e.yMax=parseFloat(p.yMax));let t={x:parseInt(p.xIntervals)||5,y:parseInt(p.yIntervals)||5};v({size:{width:parseFloat(p.width.toString())||m.size.width,height:parseFloat(p.height.toString())||m.size.height},rotation:parseFloat(p.rotation.toString())||0,color:p.color,domains:Object.keys(e).length>0?e:void 0,axisIntervals:t,quadrantMode:p.quadrantMode,settings:{showGrid:p.showGrid,dotSize:parseInt(p.dotSize.toString())||5,showLabels:p.showLabels}}),g()},className:"w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-md shadow-sm transition-colors",children:"Apply Changes"})})]})}function b(e){let{graph:t,onDataUpdate:i,onClose:r}=e,[o,s]=(0,n.useState)([]),[l,d]=(0,n.useState)(""),[x,c]=(0,n.useState)(1),[h,u]=(0,n.useState)(15),[m,g]=(0,n.useState)(1),[v,f]=(0,n.useState)({start:0,end:0});(0,n.useEffect)(()=>{t&&t.data&&(s([...t.data]),c(1))},[t]);let p=(e,t,i)=>{let a=parseFloat(i);if(isNaN(a))return;let n=[...o];n[e]={...n[e],[t]:a},s(n)},y=e=>{let t=o.filter((t,i)=>i!==e);s(t);let i=Math.max(1,Math.ceil(t.length/h));x>i&&c(i)},M=(0,n.useMemo)(()=>{let e=o;if(l){let t=l.toLowerCase();e=o.filter(e=>e.x.toString().includes(t)||e.y.toString().includes(t))}let t=Math.max(1,Math.ceil(e.length/h));g(t),x>t&&c(t);let i=(x-1)*h,a=Math.min(i+h,e.length);return f({start:i,end:a}),{allFiltered:e,visibleData:e.slice(i,a),totalCount:e.length}},[o,l,x,h]),b=(0,n.useMemo)(()=>Math.min(40*Math.min(10,M.visibleData.length),Math.max(200,Math.min(400,window.innerHeight-250))),[M.visibleData.length]);return t?(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-white to-indigo-100",children:[(0,a.jsx)("h3",{className:"font-semibold text-indigo-900",children:t.title||"Data Panel"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("input",{type:"text",placeholder:"Search points...",className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",value:l,onChange:e=>{d(e.target.value),c(1)}})}),o.length>50&&(0,a.jsxs)("div",{className:"flex justify-end text-sm text-gray-600",children:[(0,a.jsx)("label",{htmlFor:"itemsPerPage",className:"mr-2 flex items-center",children:"Rows per page:"}),(0,a.jsxs)("select",{id:"itemsPerPage",value:h,onChange:e=>{u(parseInt(e.target.value)),c(1)},className:"p-1 border border-gray-300 rounded",children:[(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"15",children:"15"}),(0,a.jsx)("option",{value:"25",children:"25"}),(0,a.jsx)("option",{value:"50",children:"50"})]})]}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)("div",{style:{height:b},className:"overflow-y-auto",children:(0,a.jsxs)("table",{className:"min-w-full table-auto border-collapse",children:[(0,a.jsx)("thead",{className:"bg-gray-100 sticky top-0 z-10",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"#"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"X"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Y"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),(0,a.jsx)("tbody",{children:M.visibleData.length>0?M.visibleData.map((e,t)=>{let i=v.start+t;return(0,a.jsxs)("tr",{className:"hover:bg-blue-50",children:[(0,a.jsx)("td",{className:"border px-4 py-2 text-sm",children:i+1}),(0,a.jsx)("td",{className:"border px-4 py-2",children:(0,a.jsx)("input",{type:"number",value:e.x,onChange:e=>p(i,"x",e.target.value),className:"w-full p-1 border border-gray-300 rounded focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",step:"0.01"})}),(0,a.jsx)("td",{className:"border px-4 py-2",children:(0,a.jsx)("input",{type:"number",value:e.y,onChange:e=>p(i,"y",e.target.value),className:"w-full p-1 border border-gray-300 rounded focus:ring-2 focus:ring-indigo-300 focus:border-indigo-500",step:"0.01"})}),(0,a.jsx)("td",{className:"border px-4 py-2",children:(0,a.jsx)("button",{onClick:()=>y(i),className:"text-red-500 hover:text-red-700 hover:underline",children:"Delete"})})]},i)}):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"border px-4 py-8 text-center text-gray-500",children:0===o.length?"No data points available.":"No matching data points found."})})})]})})}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",M.visibleData.length>0?v.start+1:0," to ",v.end," of ",M.totalCount," points"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>c(e=>Math.max(1,e-1)),disabled:1===x,className:"px-3 py-1 rounded ".concat(1===x?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:"Prev"}),(0,a.jsxs)("span",{className:"px-3 py-1 bg-white border border-gray-300 rounded",children:[x," / ",m]}),(0,a.jsx)("button",{onClick:()=>c(e=>Math.min(m,e+1)),disabled:x>=m,className:"px-3 py-1 rounded ".concat(x>=m?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 hover:bg-gray-300 text-gray-700"),children:"Next"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>{let e=0,t=0;if(o.length>0){let i=o.reduce((e,t)=>e+t.x,0),a=o.reduce((e,t)=>e+t.y,0);e=Math.round(i/o.length*100)/100,t=Math.round(a/o.length*100)/100}let i=[...o,{x:e,y:t}];s(i),c(Math.ceil(i.length/h))},className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors",children:"Add Point"}),(0,a.jsx)("button",{onClick:()=>{t&&(i(t.id,o),r())},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors shadow-sm",children:"Apply Changes"})]})]})]}):null}function j(){let[e,t]=(0,n.useState)([]),[i,r]=(0,n.useState)(null),[o,s]=(0,n.useState)(null),[l,d]=(0,n.useState)(!1),[c,h]=(0,n.useState)(100),u=(e,i,a)=>{t(t=>t.map(t=>t.id===e?{...t,position:{x:i,y:a}}:t))},m=(e,i,a)=>{t(t=>t.map(t=>t.id===e?{...t,size:{width:i,height:a}}:t))},g=(e,i)=>{console.log("Rotating graph ".concat(e," to ").concat(i,"\xb0")),t(t=>t.map(t=>t.id===e?{...t,rotation:i}:t))},v=(e,i)=>{t(t=>t.map(t=>t.id===e?{...t,color:i}:t))},f=e=>{t(t=>t.filter(t=>t.id!==e))},p=e=>{h(e=>e+1),t(t=>t.map(t=>t.id===e?{...t,zIndex:c}:t))},j=e=>{let t=30*e.length;return{x:100+t,y:100+t}},w=e.find(e=>e.id===i),N=e.find(e=>e.id===o);return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen flex flex-col p-4",children:[(0,a.jsxs)("header",{className:"mb-6 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-indigo-900",children:"CSV Graph Visualizer"}),(0,a.jsx)("p",{className:"text-sm text-indigo-700 mt-1",children:"Upload CSV files to visualize data as interactive scatter plots"})]}),(0,a.jsx)("div",{className:"w-52",children:(0,a.jsx)(x,{onDataParsed:(i,a)=>{if(0===i.length){alert("No valid data points found in the file.");return}let n=i[0],r=n.quadrantMode||"first",o=n.domains||{xMin:0,xMax:100,yMin:0,yMax:100};h(e=>e+1);let s={id:Date.now().toString(),title:a||"Graph",data:i,position:j(e),size:{width:500,height:400},rotation:0,color:"#3b82f6",axisIntervals:{x:5,y:5},quadrantMode:r,domains:o,zIndex:c,minimized:!1,settings:{showGrid:!0,dotSize:5,showLabels:!0}};t([...e,s])}})})]}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-xl flex-1 flex flex-col relative",style:{minHeight:"85vh",overflow:"visible"},children:(0,a.jsx)("div",{className:"flex-1 p-4 relative",children:(0,a.jsx)("div",{className:"relative w-full",style:{height:"100%",minHeight:"500px"},children:e.length>0?e.map((e,t)=>(0,a.jsx)(y,{data:e.data,filename:e.filename||e.title||"Graph",position:e.position,size:e.size,rotation:e.rotation,zIndex:e.zIndex||100+t,onPositionChange:(t,i)=>u(e.id,t,i),onSizeChange:(t,i)=>m(e.id,t,i),onRotationChange:t=>g(e.id,t),color:e.color,onColorChange:t=>v(e.id,t),onRemove:()=>f(e.id),isSettingsOpen:i===e.id,onToggleSettings:()=>{i===e.id?(r(null),d(!1)):(r(e.id),d(!0),o!==e.id&&s(null),p(e.id))},domains:e.domains,axisIntervals:e.axisIntervals,quadrantMode:e.quadrantMode,onDataPanelToggle:()=>{o===e.id?s(null):(s(e.id),i!==e.id&&r(null),p(e.id))}},e.id)):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"bg-indigo-50 p-6 rounded-full inline-block mb-4 shadow-sm",children:(0,a.jsx)("svg",{className:"h-16 w-16 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"No graphs yet"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2 max-w-md mx-auto",children:"Upload a CSV file to get started with interactive data visualization"})]})})})})}),(0,a.jsx)("div",{className:"fixed left-0 top-0 h-full w-80 bg-white border-r border-gray-200 shadow-2xl transform transition-transform duration-300 ease-in-out z-[1000] ".concat(o?"translate-x-0":"-translate-x-full"),children:N&&(0,a.jsx)(b,{graph:N,onDataUpdate:(e,i)=>{t(t=>t.map(t=>t.id===e?{...t,data:i}:t))},onClose:()=>s(null)})}),(0,a.jsx)("div",{className:"fixed right-0 top-0 h-full w-80 bg-white shadow-lg transition-transform duration-300 transform z-[1000] ".concat(l?"translate-x-0":"translate-x-full"),children:l&&w&&(0,a.jsx)(M,{graph:w,onSettingsUpdate:a=>{i&&t(e.map(e=>e.id===i?{...e,...a}:e))},onClose:()=>{d(!1)}})})]}),(0,a.jsx)("footer",{className:"mt-6 text-center text-sm text-gray-600 py-3",children:(0,a.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," CSV Graph Visualizer"]})})]})}}},function(e){e.O(0,[425,35,971,938,744],function(){return e(e.s=8418)}),_N_E=e.O()}]);